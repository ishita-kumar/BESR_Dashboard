{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _reactLeaflet = require('react-leaflet');\n\nvar _chromaJs = require('chroma-js');\n\nvar _chromaJs2 = _interopRequireDefault(_chromaJs);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _assign = require('./assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar Choropleth = function (_Component) {\n  _inherits(Choropleth, _Component);\n\n  function Choropleth() {\n    _classCallCheck(this, Choropleth);\n\n    return _possibleConstructorReturn(this, (Choropleth.__proto__ || Object.getPrototypeOf(Choropleth)).apply(this, arguments));\n  }\n\n  _createClass(Choropleth, [{\n    key: 'isFunction',\n    value: function isFunction(prop) {\n      return typeof prop === 'function';\n    }\n  }, {\n    key: 'getColors',\n    value: function getColors() {\n      var _this2 = this;\n\n      var _props = this.props,\n          data = _props.data,\n          valueProperty = _props.valueProperty,\n          mode = _props.mode,\n          steps = _props.steps,\n          scale = _props.scale,\n          cl = _props.colors;\n      var colors = {};\n      var features = Array.isArray(data) ? data : data.features;\n      var values = features.map(function (item) {\n        return _this2.isFunction(valueProperty) ? valueProperty(item) : item.properties[valueProperty];\n      });\n      colors.limits = _chromaJs2.default.limits(values, mode, steps - 1);\n      colors.colors = cl || _chromaJs2.default.scale(scale).colors(steps);\n      return colors;\n    }\n  }, {\n    key: 'getStyle',\n    value: function getStyle(_ref, feature) {\n      var limits = _ref.limits,\n          colors = _ref.colors;\n      var _props2 = this.props,\n          valueProperty = _props2.valueProperty,\n          _props2$visible = _props2.visible,\n          visible = _props2$visible === undefined ? function () {\n        return true;\n      } : _props2$visible,\n          userStyle = _props2.style;\n      if (!(this.isFunction(visible) && visible(feature) || feature.properties[visible])) return userStyle;\n      var featureValue = this.isFunction(valueProperty) ? valueProperty(feature) : feature.properties[valueProperty];\n      var idx = !isNaN(featureValue) ? limits.findIndex(function (lim) {\n        return featureValue <= lim;\n      }) : -1;\n\n      if (colors[idx]) {\n        var style = {\n          fillColor: colors[idx]\n        };\n\n        switch (typeof userStyle === 'undefined' ? 'undefined' : _typeof(userStyle)) {\n          case 'function':\n            return (0, _assign2.default)(userStyle(feature), style);\n\n          case 'object':\n            return (0, _assign2.default)({}, userStyle, style);\n\n          default:\n            return style;\n        }\n      } else {\n        return userStyle;\n      }\n    }\n  }, {\n    key: 'cloneChildrenWithFeature',\n    value: function cloneChildrenWithFeature(props, feature) {\n      var newProps = (0, _assign2.default)({}, props, {\n        feature: feature\n      });\n      return _react.Children.map(props.children, function (child) {\n        return child ? (0, _react.cloneElement)(child, newProps) : null;\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var features = Array.isArray(this.props.data) ? this.props.data : this.props.data.features;\n      var chroms = this.getColors();\n\n      var _props3 = this.props,\n          layerContainer = _props3.layerContainer,\n          identity = _props3.identity,\n          options = _objectWithoutProperties(_props3, ['layerContainer', 'identity']); //remove \n\n\n      return _react2.default.createElement(_reactLeaflet.FeatureGroup, {\n        map: this.props.map,\n        layerContainer: layerContainer,\n        ref: function ref(layer) {\n          return layer ? _this3.leafletElement = layer.leafletElement : null;\n        }\n      }, features.map(function (feature, idx) {\n        return _react2.default.createElement(_reactLeaflet.GeoJSON, _extends({\n          key: identity ? identity(feature) : idx\n        }, options, {\n          style: _this3.getStyle(chroms, feature)\n        }, _this3.getStyle(chroms, feature), {\n          data: feature,\n          children: _this3.props.children ? _this3.cloneChildrenWithFeature(_this3.props, feature) : _this3.props.children\n        }));\n      }));\n    }\n  }]);\n\n  return Choropleth;\n}(_react.Component);\n\nexports.default = Choropleth;","map":{"version":3,"sources":["/home/ishita/Desktop/part-time/BESR_DASHBOARD/Dashboard_CTIL/tester/node_modules/react-leaflet-choropleth/choropleth.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_typeof","Symbol","iterator","obj","constructor","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_reactLeaflet","require","_chromaJs","_chromaJs2","_interopRequireDefault","_react","_react2","_assign","_assign2","__esModule","default","_objectWithoutProperties","keys","indexOf","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","Choropleth","_Component","getPrototypeOf","apply","isFunction","prop","getColors","_this2","_props","data","valueProperty","mode","steps","scale","cl","colors","features","Array","isArray","values","map","item","properties","limits","getStyle","_ref","feature","_props2","_props2$visible","visible","undefined","userStyle","style","featureValue","idx","isNaN","findIndex","lim","fillColor","cloneChildrenWithFeature","newProps","Children","children","child","cloneElement","render","_this3","chroms","_props3","layerContainer","identity","options","createElement","FeatureGroup","ref","layer","leafletElement","GeoJSON","Component"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;;AAIA,IAAIC,QAAQ,GAAGJ,MAAM,CAACK,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,QAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAtB;;AAA2B,SAAK,IAAII,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,UAAIV,MAAM,CAACY,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEL,QAAAA,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,SAAOL,MAAP;AAAgB,CAAhQ;;AAEA,IAAIS,OAAO,GAAG,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,OAAOA,MAAM,CAACC,QAAd,KAA2B,QAA3D,GAAsE,UAAUC,GAAV,EAAe;AAAE,SAAO,OAAOA,GAAd;AAAoB,CAA3G,GAA8G,UAAUA,GAAV,EAAe;AAAE,SAAOA,GAAG,IAAI,OAAOF,MAAP,KAAkB,UAAzB,IAAuCE,GAAG,CAACC,WAAJ,KAAoBH,MAA3D,IAAqEE,GAAG,KAAKF,MAAM,CAACJ,SAApF,GAAgG,QAAhG,GAA2G,OAAOM,GAAzH;AAA+H,CAA5Q;;AAEA,IAAIE,YAAY,GAAG,YAAY;AAAE,WAASC,gBAAT,CAA0Bf,MAA1B,EAAkCgB,KAAlC,EAAyC;AAAE,SAAK,IAAIf,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGe,KAAK,CAACb,MAA1B,EAAkCF,CAAC,EAAnC,EAAuC;AAAE,UAAIgB,UAAU,GAAGD,KAAK,CAACf,CAAD,CAAtB;AAA2BgB,MAAAA,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;AAAwDD,MAAAA,UAAU,CAACE,YAAX,GAA0B,IAA1B;AAAgC,UAAI,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;AAA4B1B,MAAAA,MAAM,CAACC,cAAP,CAAsBK,MAAtB,EAA8BiB,UAAU,CAACZ,GAAzC,EAA8CY,UAA9C;AAA4D;AAAE;;AAAC,SAAO,UAAUI,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,QAAID,UAAJ,EAAgBP,gBAAgB,CAACM,WAAW,CAACf,SAAb,EAAwBgB,UAAxB,CAAhB;AAAqD,QAAIC,WAAJ,EAAiBR,gBAAgB,CAACM,WAAD,EAAcE,WAAd,CAAhB;AAA4C,WAAOF,WAAP;AAAqB,GAAhN;AAAmN,CAA9hB,EAAnB;;AAEA,IAAIG,aAAa,GAAGC,OAAO,CAAC,eAAD,CAA3B;;AAEA,IAAIC,SAAS,GAAGD,OAAO,CAAC,WAAD,CAAvB;;AAEA,IAAIE,UAAU,GAAGC,sBAAsB,CAACF,SAAD,CAAvC;;AAEA,IAAIG,MAAM,GAAGJ,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAIK,OAAO,GAAGF,sBAAsB,CAACC,MAAD,CAApC;;AAEA,IAAIE,OAAO,GAAGN,OAAO,CAAC,UAAD,CAArB;;AAEA,IAAIO,QAAQ,GAAGJ,sBAAsB,CAACG,OAAD,CAArC;;AAEA,SAASH,sBAAT,CAAgChB,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACqB,UAAX,GAAwBrB,GAAxB,GAA8B;AAAEsB,IAAAA,OAAO,EAAEtB;AAAX,GAArC;AAAwD;;AAE/F,SAASuB,wBAAT,CAAkCvB,GAAlC,EAAuCwB,IAAvC,EAA6C;AAAE,MAAIpC,MAAM,GAAG,EAAb;;AAAiB,OAAK,IAAIC,CAAT,IAAcW,GAAd,EAAmB;AAAE,QAAIwB,IAAI,CAACC,OAAL,CAAapC,CAAb,KAAmB,CAAvB,EAA0B;AAAU,QAAI,CAACP,MAAM,CAACY,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCI,GAArC,EAA0CX,CAA1C,CAAL,EAAmD;AAAUD,IAAAA,MAAM,CAACC,CAAD,CAAN,GAAYW,GAAG,CAACX,CAAD,CAAf;AAAqB;;AAAC,SAAOD,MAAP;AAAgB;;AAE5N,SAASsC,eAAT,CAAyBC,QAAzB,EAAmClB,WAAnC,EAAgD;AAAE,MAAI,EAAEkB,QAAQ,YAAYlB,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAImB,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASC,0BAAT,CAAoCC,IAApC,EAA0ClC,IAA1C,EAAgD;AAAE,MAAI,CAACkC,IAAL,EAAW;AAAE,UAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF;;AAAC,SAAOnC,IAAI,KAAK,OAAOA,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAAjD,CAAJ,GAAmEA,IAAnE,GAA0EkC,IAAjF;AAAwF;;AAEhP,SAASE,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,MAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;AAAE,UAAM,IAAIN,SAAJ,CAAc,6DAA6D,OAAOM,UAAlF,CAAN;AAAsG;;AAACD,EAAAA,QAAQ,CAACvC,SAAT,GAAqBZ,MAAM,CAACqD,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAACxC,SAAvC,EAAkD;AAAEO,IAAAA,WAAW,EAAE;AAAEhB,MAAAA,KAAK,EAAEgD,QAAT;AAAmB3B,MAAAA,UAAU,EAAE,KAA/B;AAAsCE,MAAAA,QAAQ,EAAE,IAAhD;AAAsDD,MAAAA,YAAY,EAAE;AAApE;AAAf,GAAlD,CAArB;AAAqK,MAAI2B,UAAJ,EAAgBpD,MAAM,CAACsD,cAAP,GAAwBtD,MAAM,CAACsD,cAAP,CAAsBH,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,QAAQ,CAACI,SAAT,GAAqBH,UAA3F;AAAwG;;AAE9e,IAAII,UAAU,GAAG,UAAUC,UAAV,EAAsB;AACrCP,EAAAA,SAAS,CAACM,UAAD,EAAaC,UAAb,CAAT;;AAEA,WAASD,UAAT,GAAsB;AACpBZ,IAAAA,eAAe,CAAC,IAAD,EAAOY,UAAP,CAAf;;AAEA,WAAOT,0BAA0B,CAAC,IAAD,EAAO,CAACS,UAAU,CAACD,SAAX,IAAwBvD,MAAM,CAAC0D,cAAP,CAAsBF,UAAtB,CAAzB,EAA4DG,KAA5D,CAAkE,IAAlE,EAAwEnD,SAAxE,CAAP,CAAjC;AACD;;AAEDY,EAAAA,YAAY,CAACoC,UAAD,EAAa,CAAC;AACxB7C,IAAAA,GAAG,EAAE,YADmB;AAExBR,IAAAA,KAAK,EAAE,SAASyD,UAAT,CAAoBC,IAApB,EAA0B;AAC/B,aAAO,OAAOA,IAAP,KAAgB,UAAvB;AACD;AAJuB,GAAD,EAKtB;AACDlD,IAAAA,GAAG,EAAE,WADJ;AAEDR,IAAAA,KAAK,EAAE,SAAS2D,SAAT,GAAqB;AAC1B,UAAIC,MAAM,GAAG,IAAb;;AAEA,UAAIC,MAAM,GAAG,KAAK1C,KAAlB;AAAA,UACI2C,IAAI,GAAGD,MAAM,CAACC,IADlB;AAAA,UAEIC,aAAa,GAAGF,MAAM,CAACE,aAF3B;AAAA,UAGIC,IAAI,GAAGH,MAAM,CAACG,IAHlB;AAAA,UAIIC,KAAK,GAAGJ,MAAM,CAACI,KAJnB;AAAA,UAKIC,KAAK,GAAGL,MAAM,CAACK,KALnB;AAAA,UAMIC,EAAE,GAAGN,MAAM,CAACO,MANhB;AAQA,UAAIA,MAAM,GAAG,EAAb;AACA,UAAIC,QAAQ,GAAGC,KAAK,CAACC,OAAN,CAAcT,IAAd,IAAsBA,IAAtB,GAA6BA,IAAI,CAACO,QAAjD;AAEA,UAAIG,MAAM,GAAGH,QAAQ,CAACI,GAAT,CAAa,UAAUC,IAAV,EAAgB;AACxC,eAAOd,MAAM,CAACH,UAAP,CAAkBM,aAAlB,IAAmCA,aAAa,CAACW,IAAD,CAAhD,GAAyDA,IAAI,CAACC,UAAL,CAAgBZ,aAAhB,CAAhE;AACD,OAFY,CAAb;AAIAK,MAAAA,MAAM,CAACQ,MAAP,GAAgB9C,UAAU,CAACO,OAAX,CAAmBuC,MAAnB,CAA0BJ,MAA1B,EAAkCR,IAAlC,EAAwCC,KAAK,GAAG,CAAhD,CAAhB;AACAG,MAAAA,MAAM,CAACA,MAAP,GAAgBD,EAAE,IAAIrC,UAAU,CAACO,OAAX,CAAmB6B,KAAnB,CAAyBA,KAAzB,EAAgCE,MAAhC,CAAuCH,KAAvC,CAAtB;AACA,aAAOG,MAAP;AACD;AAvBA,GALsB,EA6BtB;AACD5D,IAAAA,GAAG,EAAE,UADJ;AAEDR,IAAAA,KAAK,EAAE,SAAS6E,QAAT,CAAkBC,IAAlB,EAAwBC,OAAxB,EAAiC;AACtC,UAAIH,MAAM,GAAGE,IAAI,CAACF,MAAlB;AAAA,UACIR,MAAM,GAAGU,IAAI,CAACV,MADlB;AAEA,UAAIY,OAAO,GAAG,KAAK7D,KAAnB;AAAA,UACI4C,aAAa,GAAGiB,OAAO,CAACjB,aAD5B;AAAA,UAEIkB,eAAe,GAAGD,OAAO,CAACE,OAF9B;AAAA,UAGIA,OAAO,GAAGD,eAAe,KAAKE,SAApB,GAAgC,YAAY;AACxD,eAAO,IAAP;AACD,OAFa,GAEVF,eALJ;AAAA,UAMIG,SAAS,GAAGJ,OAAO,CAACK,KANxB;AASA,UAAI,EAAE,KAAK5B,UAAL,CAAgByB,OAAhB,KAA4BA,OAAO,CAACH,OAAD,CAAnC,IAAgDA,OAAO,CAACJ,UAAR,CAAmBO,OAAnB,CAAlD,CAAJ,EAAoF,OAAOE,SAAP;AAEpF,UAAIE,YAAY,GAAG,KAAK7B,UAAL,CAAgBM,aAAhB,IAAiCA,aAAa,CAACgB,OAAD,CAA9C,GAA0DA,OAAO,CAACJ,UAAR,CAAmBZ,aAAnB,CAA7E;AAEA,UAAIwB,GAAG,GAAG,CAACC,KAAK,CAACF,YAAD,CAAN,GAAuBV,MAAM,CAACa,SAAP,CAAiB,UAAUC,GAAV,EAAe;AAC/D,eAAOJ,YAAY,IAAII,GAAvB;AACD,OAFgC,CAAvB,GAEL,CAAC,CAFN;;AAIA,UAAItB,MAAM,CAACmB,GAAD,CAAV,EAAiB;AACf,YAAIF,KAAK,GAAG;AACVM,UAAAA,SAAS,EAAEvB,MAAM,CAACmB,GAAD;AADP,SAAZ;;AAIA,gBAAQ,OAAOH,SAAP,KAAqB,WAArB,GAAmC,WAAnC,GAAiDxE,OAAO,CAACwE,SAAD,CAAhE;AACE,eAAK,UAAL;AACE,mBAAO,CAAC,GAAGjD,QAAQ,CAACE,OAAb,EAAsB+C,SAAS,CAACL,OAAD,CAA/B,EAA0CM,KAA1C,CAAP;;AACF,eAAK,QAAL;AACE,mBAAO,CAAC,GAAGlD,QAAQ,CAACE,OAAb,EAAsB,EAAtB,EAA0B+C,SAA1B,EAAqCC,KAArC,CAAP;;AACF;AACE,mBAAOA,KAAP;AANJ;AAQD,OAbD,MAaO;AACL,eAAOD,SAAP;AACD;AACF;AAtCA,GA7BsB,EAoEtB;AACD5E,IAAAA,GAAG,EAAE,0BADJ;AAEDR,IAAAA,KAAK,EAAE,SAAS4F,wBAAT,CAAkCzE,KAAlC,EAAyC4D,OAAzC,EAAkD;AACvD,UAAIc,QAAQ,GAAG,CAAC,GAAG1D,QAAQ,CAACE,OAAb,EAAsB,EAAtB,EAA0BlB,KAA1B,EAAiC;AAAE4D,QAAAA,OAAO,EAAEA;AAAX,OAAjC,CAAf;AACA,aAAO/C,MAAM,CAAC8D,QAAP,CAAgBrB,GAAhB,CAAoBtD,KAAK,CAAC4E,QAA1B,EAAoC,UAAUC,KAAV,EAAiB;AAC1D,eAAOA,KAAK,GAAG,CAAC,GAAGhE,MAAM,CAACiE,YAAX,EAAyBD,KAAzB,EAAgCH,QAAhC,CAAH,GAA+C,IAA3D;AACD,OAFM,CAAP;AAGD;AAPA,GApEsB,EA4EtB;AACDrF,IAAAA,GAAG,EAAE,QADJ;AAEDR,IAAAA,KAAK,EAAE,SAASkG,MAAT,GAAkB;AACvB,UAAIC,MAAM,GAAG,IAAb;;AAEA,UAAI9B,QAAQ,GAAGC,KAAK,CAACC,OAAN,CAAc,KAAKpD,KAAL,CAAW2C,IAAzB,IAAiC,KAAK3C,KAAL,CAAW2C,IAA5C,GAAmD,KAAK3C,KAAL,CAAW2C,IAAX,CAAgBO,QAAlF;AACA,UAAI+B,MAAM,GAAG,KAAKzC,SAAL,EAAb;;AAEA,UAAI0C,OAAO,GAAG,KAAKlF,KAAnB;AAAA,UACImF,cAAc,GAAGD,OAAO,CAACC,cAD7B;AAAA,UAEIC,QAAQ,GAAGF,OAAO,CAACE,QAFvB;AAAA,UAGIC,OAAO,GAAGlE,wBAAwB,CAAC+D,OAAD,EAAU,CAAC,gBAAD,EAAmB,UAAnB,CAAV,CAHtC,CANuB,CAS0D;;;AAGjF,aAAOpE,OAAO,CAACI,OAAR,CAAgBoE,aAAhB,CACL9E,aAAa,CAAC+E,YADT,EAEL;AAAEjC,QAAAA,GAAG,EAAE,KAAKtD,KAAL,CAAWsD,GAAlB;AAAuB6B,QAAAA,cAAc,EAAEA,cAAvC;AAAuDK,QAAAA,GAAG,EAAE,SAASA,GAAT,CAAaC,KAAb,EAAoB;AAC5E,iBAAOA,KAAK,GAAGT,MAAM,CAACU,cAAP,GAAwBD,KAAK,CAACC,cAAjC,GAAkD,IAA9D;AACD;AAFH,OAFK,EAKLxC,QAAQ,CAACI,GAAT,CAAa,UAAUM,OAAV,EAAmBQ,GAAnB,EAAwB;AACnC,eAAOtD,OAAO,CAACI,OAAR,CAAgBoE,aAAhB,CAA8B9E,aAAa,CAACmF,OAA5C,EAAqD7G,QAAQ,CAAC;AACnEO,UAAAA,GAAG,EAAE+F,QAAQ,GAAGA,QAAQ,CAACxB,OAAD,CAAX,GAAuBQ;AAD+B,SAAD,EAEjEiB,OAFiE,EAExD;AACVnB,UAAAA,KAAK,EAAEc,MAAM,CAACtB,QAAP,CAAgBuB,MAAhB,EAAwBrB,OAAxB;AADG,SAFwD,EAIjEoB,MAAM,CAACtB,QAAP,CAAgBuB,MAAhB,EAAwBrB,OAAxB,CAJiE,EAI/B;AACnCjB,UAAAA,IAAI,EAAEiB,OAD6B;AAEnCgB,UAAAA,QAAQ,EAAEI,MAAM,CAAChF,KAAP,CAAa4E,QAAb,GAAwBI,MAAM,CAACP,wBAAP,CAAgCO,MAAM,CAAChF,KAAvC,EAA8C4D,OAA9C,CAAxB,GAAiFoB,MAAM,CAAChF,KAAP,CAAa4E;AAFrE,SAJ+B,CAA7D,CAAP;AAQD,OATD,CALK,CAAP;AAgBD;AA9BA,GA5EsB,CAAb,CAAZ;;AA6GA,SAAO1C,UAAP;AACD,CAvHgB,CAuHfrB,MAAM,CAAC+E,SAvHQ,CAAjB;;AAyHAhH,OAAO,CAACsC,OAAR,GAAkBgB,UAAlB","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _reactLeaflet = require('react-leaflet');\n\nvar _chromaJs = require('chroma-js');\n\nvar _chromaJs2 = _interopRequireDefault(_chromaJs);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _assign = require('./assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Choropleth = function (_Component) {\n  _inherits(Choropleth, _Component);\n\n  function Choropleth() {\n    _classCallCheck(this, Choropleth);\n\n    return _possibleConstructorReturn(this, (Choropleth.__proto__ || Object.getPrototypeOf(Choropleth)).apply(this, arguments));\n  }\n\n  _createClass(Choropleth, [{\n    key: 'isFunction',\n    value: function isFunction(prop) {\n      return typeof prop === 'function';\n    }\n  }, {\n    key: 'getColors',\n    value: function getColors() {\n      var _this2 = this;\n\n      var _props = this.props,\n          data = _props.data,\n          valueProperty = _props.valueProperty,\n          mode = _props.mode,\n          steps = _props.steps,\n          scale = _props.scale,\n          cl = _props.colors;\n\n      var colors = {};\n      var features = Array.isArray(data) ? data : data.features;\n\n      var values = features.map(function (item) {\n        return _this2.isFunction(valueProperty) ? valueProperty(item) : item.properties[valueProperty];\n      });\n\n      colors.limits = _chromaJs2.default.limits(values, mode, steps - 1);\n      colors.colors = cl || _chromaJs2.default.scale(scale).colors(steps);\n      return colors;\n    }\n  }, {\n    key: 'getStyle',\n    value: function getStyle(_ref, feature) {\n      var limits = _ref.limits,\n          colors = _ref.colors;\n      var _props2 = this.props,\n          valueProperty = _props2.valueProperty,\n          _props2$visible = _props2.visible,\n          visible = _props2$visible === undefined ? function () {\n        return true;\n      } : _props2$visible,\n          userStyle = _props2.style;\n\n\n      if (!(this.isFunction(visible) && visible(feature) || feature.properties[visible])) return userStyle;\n\n      var featureValue = this.isFunction(valueProperty) ? valueProperty(feature) : feature.properties[valueProperty];\n\n      var idx = !isNaN(featureValue) ? limits.findIndex(function (lim) {\n        return featureValue <= lim;\n      }) : -1;\n\n      if (colors[idx]) {\n        var style = {\n          fillColor: colors[idx]\n        };\n\n        switch (typeof userStyle === 'undefined' ? 'undefined' : _typeof(userStyle)) {\n          case 'function':\n            return (0, _assign2.default)(userStyle(feature), style);\n          case 'object':\n            return (0, _assign2.default)({}, userStyle, style);\n          default:\n            return style;\n        }\n      } else {\n        return userStyle;\n      }\n    }\n  }, {\n    key: 'cloneChildrenWithFeature',\n    value: function cloneChildrenWithFeature(props, feature) {\n      var newProps = (0, _assign2.default)({}, props, { feature: feature });\n      return _react.Children.map(props.children, function (child) {\n        return child ? (0, _react.cloneElement)(child, newProps) : null;\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var features = Array.isArray(this.props.data) ? this.props.data : this.props.data.features;\n      var chroms = this.getColors();\n\n      var _props3 = this.props,\n          layerContainer = _props3.layerContainer,\n          identity = _props3.identity,\n          options = _objectWithoutProperties(_props3, ['layerContainer', 'identity']); //remove \n\n\n      return _react2.default.createElement(\n        _reactLeaflet.FeatureGroup,\n        { map: this.props.map, layerContainer: layerContainer, ref: function ref(layer) {\n            return layer ? _this3.leafletElement = layer.leafletElement : null;\n          } },\n        features.map(function (feature, idx) {\n          return _react2.default.createElement(_reactLeaflet.GeoJSON, _extends({\n            key: identity ? identity(feature) : idx\n          }, options, {\n            style: _this3.getStyle(chroms, feature)\n          }, _this3.getStyle(chroms, feature), {\n            data: feature,\n            children: _this3.props.children ? _this3.cloneChildrenWithFeature(_this3.props, feature) : _this3.props.children\n          }));\n        })\n      );\n    }\n  }]);\n\n  return Choropleth;\n}(_react.Component);\n\nexports.default = Choropleth;\n\n"]},"metadata":{},"sourceType":"script"}